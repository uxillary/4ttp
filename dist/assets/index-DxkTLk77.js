import{r as X,g as Q}from"./phaser-0YPJO2g1.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();var J=X();const h=Q(J);class Z extends h.Scene{constructor(){super("Boot")}preload(){this.ensurePixelTexture(),this.ensureSquareTexture()}create(){this.scene.start("Game"),this.scene.launch("UI")}ensurePixelTexture(){if(this.textures.exists("dot"))return;const t=this.textures.createCanvas("dot",1,1);t&&(t.context.fillStyle="#ffffff",t.context.fillRect(0,0,1,1),t.refresh())}ensureSquareTexture(){if(this.textures.exists("square8"))return;const t=this.textures.createCanvas("square8",8,8);t&&(t.context.fillStyle="#ffffff",t.context.fillRect(0,0,8,8),t.refresh())}}const a=["Fire","Water","Earth"],V={Fire:16735299,Water:5629605,Earth:12757370},w={Fire:1.1,Water:1,Earth:.9},S={Fire:"Thermal Protocol",Water:"Liquid Node",Earth:"Core Process"},tt={Fire:["Earth"],Water:["Fire"],Earth:["Water"]};function A(o,t){return(tt[o]??[]).includes(t)}class _{constructor(t){this.groups=t}counts(){const t={};return a.forEach(e=>{t[e]=this.groups[e].getLength()}),t}weakest(){const t=this.counts();let e=a[0],s=Number.POSITIVE_INFINITY;return a.forEach(i=>{const n=t[i];n<s&&(s=n,e=i)}),e}strongest(){const t=this.counts();let e=a[0],s=Number.NEGATIVE_INFINITY;return a.forEach(i=>{const n=t[i];n>s&&(s=n,e=i)}),e}equilibrium(){return g(this.counts())}}function g(o){const t=a.map(r=>o[r]),e=t.reduce((r,l)=>r+l,0);if(e===0)return 1;const s=Math.min(...t),n=1-(Math.max(...t)-s)/e;return h.Math.Clamp(n,0,1)}class et{constructor(t,e,s,i=320,n=12){this.width=i,this.height=n,this.graphics=t.add.graphics({x:e,y:s}).setScrollFactor(0).setDepth(40),t.events.once(h.Scenes.Events.SHUTDOWN,()=>this.graphics.destroy())}update(t,e){const s=a.reduce((r,l)=>r+t[l],0),{width:i}=this;if(this.graphics.clear(),this.graphics.fillStyle(791846,.85),this.graphics.fillRoundedRect(0,0,i,this.height,6),s<=0){this.graphics.lineStyle(1,2042948,.9),this.graphics.strokeRoundedRect(0,0,i,this.height,6);return}let n=0;a.forEach((r,l)=>{const d=t[r]/s,u=l===a.length-1?i-n:Math.max(i*d,0),K=e[r],Y=l===0?{tl:6,bl:6}:l===a.length-1?{tr:6,br:6}:{tl:0,tr:0,bl:0,br:0};this.graphics.fillStyle(K,.92),this.graphics.fillRoundedRect(n,0,u,this.height,Y),n+=u}),this.graphics.lineStyle(1,2042948,.9),this.graphics.strokeRoundedRect(0,0,i,this.height,6)}setVisible(t){this.graphics.setVisible(t)}}const st={small:{quantity:6,speed:{min:60,max:140},scale:{start:3,end:0},lifespan:180},medium:{quantity:12,speed:{min:80,max:220},scale:{start:4,end:0},lifespan:240},large:{quantity:20,speed:{min:100,max:260},scale:{start:5.5,end:0},lifespan:320}};function E(o,t){o.tweens.add({targets:t,scaleX:{from:1,to:1.2},scaleY:{from:1,to:1.2},duration:160,ease:h.Math.Easing.Sine.InOut,yoyo:!0})}function T(o,t,e,s,i="medium"){const{quantity:n,speed:r,scale:l,lifespan:d}=st[i],u=o.add.particles(t,e,"dot",{speed:r,angle:{min:0,max:360},scale:l,alpha:{start:.6,end:0,ease:"Expo.easeOut"},lifespan:d,quantity:n,tint:s,blendMode:h.BlendModes.ADD});o.time.delayedCall(d+40,()=>u.destroy())}function it(o,t,e,s){const i=t.getChildren(),n=o.add.rectangle(o.scale.width/2,32,o.scale.width*1.2,96,2243168,.18).setScrollFactor(0).setDepth(450);o.tweens.add({targets:n,alpha:{from:.25,to:0},duration:e,onComplete:()=>n.destroy()}),i.forEach(r=>{if(!r.active)return;const l=r.alpha;r.setData("hazeMultiplier",s),r.setAlpha(.65),o.tweens.add({targets:r,alpha:l,ease:h.Math.Easing.Sine.InOut,duration:e})})}function nt(o,t,e){t.forEach(s=>{if(!s.active)return;const i=o.add.graphics({x:s.x,y:s.y}).setDepth(600);i.fillStyle(8376831,.18),i.fillCircle(0,0,s.displayWidth*.75),i.lineStyle(2,10214655,.9),i.strokeCircle(0,0,s.displayWidth*.8);const n=()=>i.setPosition(s.x,s.y);o.events.on(h.Scenes.Events.POST_UPDATE,n),o.tweens.add({targets:[i,s],alpha:{from:.8,to:.5},yoyo:!0,duration:260,repeat:Math.max(0,Math.floor(e/260)-1)}),o.time.delayedCall(e,()=>{o.events.off(h.Scenes.Events.POST_UPDATE,n),i.destroy()})})}const ot=new Set;function q(){if(typeof window>"u")return null;try{return window.localStorage}catch{return null}}function $(o){ot.add(o)}function M(o,t){const e=q();return e?($(o),e.getItem(o)??t):t}function y(o,t){const e=q();if(e){$(o);try{e.setItem(o,t)}catch{}}}function D(o,t){const e=M(o,t?"1":"0");return e==="1"||e.toLowerCase()==="true"}function O(o,t){y(o,t?"1":"0")}function F(o,t){const e=M(o,Number.isFinite(t)?String(t):"0"),s=Number.parseFloat(e);return Number.isFinite(s)?s:t}function I(o,t){y(o,Number.isFinite(t)?String(t):"0")}const v="seed";let H="default",B=0;function G(o){return()=>{let t=o+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function rt(o){let t=1779033703^o.length;for(let e=0;e<o.length;e+=1)t=Math.imul(t^o.charCodeAt(e),3432918353),t=t<<13|t>>>19;return t=Math.imul(t^t>>>16,2246822507),t=Math.imul(t^t>>>13,3266489909),(t^=t>>>16)>>>0}let z=G(0);function ht(o){if(o&&o.trim().length>0)return o.trim();const t=M(v,"");if(t.trim().length>0)return t;const e=typeof crypto<"u"&&"getRandomValues"in crypto?Array.from(crypto.getRandomValues(new Uint32Array(2))).map(s=>s.toString(16)).join("").slice(0,12):Math.random().toString(36).slice(2,14);return y(v,e),e}function at(o){const t=ht(o);H=t,y(v,t),B=rt(t),z=G(B)}function j(){return z()}function b(o,t){return t<=o?o:o+j()*(t-o)}function lt(){return H}const ct={1:500,2:8e3,3:8e3,4:1e4,5:12e3},m={slow:5e3,buff:5e3,shield:3e3},dt=11720703,k=80,ut=6;class ft{constructor(t,e,s){this.palette={...V},this.cooldownExpires={1:0,2:0,3:0,4:0,5:0},this.activeVelocity={},this.scheduled={},this.scene=t,this.groups=e,this.meter=new _(e),this.options=s}setPalette(t){this.palette=t,this.applyPalette()}cooldowns(){const t=this.scene.time.now;return{1:Math.max(0,(this.cooldownExpires[1]-t)/1e3),2:Math.max(0,(this.cooldownExpires[2]-t)/1e3),3:Math.max(0,(this.cooldownExpires[3]-t)/1e3),4:Math.max(0,(this.cooldownExpires[4]-t)/1e3),5:Math.max(0,(this.cooldownExpires[5]-t)/1e3)}}spawnWeakest(t){if(!this.consumeCooldown("1"))return!1;const e=this.meter.weakest();if(this.totalEntities()>=this.options.maxEntities)return!1;const s=this.createEntity(e,t.x,t.y);return E(this.scene,s),T(this.scene,t.x,t.y,this.palette[e],"small"),!0}slowStrongest(){if(!this.consumeCooldown("2"))return!1;const t=this.meter.strongest();return this.applyVelocityModifier("slow",t,.75,m.slow),it(this.scene,this.groups[t],m.slow,.75),!0}buffWeakest(){if(!this.consumeCooldown("3"))return!1;const t=this.meter.weakest();return this.applyVelocityModifier("buff",t,1.25,m.buff),this.groups[t].getChildren().forEach(s=>E(this.scene,s)),!0}shieldWeakest(){if(!this.consumeCooldown("4"))return!1;const t=this.meter.weakest(),e=this.groups[t].getChildren();return e.forEach(s=>s.setData("shielded",!0)),nt(this.scene,e,m.shield),this.scheduleEffect("shield",()=>{e.forEach(s=>{s.active&&s.setData("shielded",!1)})},m.shield),!0}spawnFaction(t,e,s){return this.createEntity(t,e,s)}nuke(t){if(!this.consumeCooldown("5"))return!1;const s=this.collectSprites().map(i=>({sprite:i,dist:(i.x-t.x)**2+(i.y-t.y)**2})).filter(i=>i.dist<=k*k).sort((i,n)=>i.dist-n.dist).slice(0,ut).map(i=>i.sprite);return s.forEach(i=>i.destroy()),T(this.scene,t.x,t.y,dt,"large"),s.length>0}collectSprites(){const t=[];return Object.values(this.groups).forEach(e=>{e.getChildren().forEach(i=>{i.active&&t.push(i)})}),t}totalEntities(){return Object.values(this.groups).reduce((t,e)=>t+e.getLength(),0)}createEntity(t,e,s){const n=this.groups[t].create(e,s,"dot"),r=b(5.5,6.5);n.setScale(r).setTint(this.palette[t]),n.setData("faction",t),n.setData("shielded",!1),n.setData("baseSpeed",w[t]);const l=n.body;if(l){const d=w[t]*b(140,220),u=j()*Math.PI*2;l.velocity.setToPolar(u,d)}return n}consumeCooldown(t){const e=this.scene.time.now;return e<this.cooldownExpires[t]?!1:(this.cooldownExpires[t]=e+ct[t],!0)}applyVelocityModifier(t,e,s,i){const n=this.activeVelocity[t];n&&this.scaleGroup(n.faction,1/n.factor),this.scaleGroup(e,s),this.activeVelocity[t]={faction:e,factor:s},this.scheduleEffect(t,()=>{this.scaleGroup(e,1/s),this.activeVelocity[t]=void 0},i)}scaleGroup(t,e){this.groups[t].getChildren().forEach(i=>{const n=i.body;n&&n.velocity.scale(e)})}applyPalette(){Object.entries(this.groups).forEach(([t,e])=>{const s=this.palette[t];e.getChildren().forEach(n=>{n.active&&n.setTint(s)})})}scheduleEffect(t,e,s){const i=this.scheduled[t];i&&i.remove(!1),this.scheduled[t]=this.scene.time.delayedCall(s,()=>{e(),this.scheduled[t]=void 0})}}const pt={...V},mt={Fire:16757760,Water:2656255,Earth:6997087};function p(o){return o?mt:pt}const C={};let P=!0;function gt(o){if(typeof window>"u"||typeof Audio>"u")return null;let t=C[o];return t||(t=new Audio,t.preload="auto",t.muted=P,t.volume=.45,t.loop=!1,C[o]=t),t}function f(o){if(P)return;const t=gt(o);if(!(!t||!t.src))try{t.currentTime=0,t.muted=!1,t.play().catch(()=>{})}catch{}}function N(o){P=o,Object.values(C).forEach(t=>{t&&(t.muted=o)})}const R="muted",W="colorblind",bt={Balance:"best.balance",Domination:"best.domination"},yt=.28,St=60,xt=60,U=600,c=48;class wt extends h.Scene{constructor(){super("Game"),this.mode="Balance",this.seed="",this.palette=p(!1),this.counts={Fire:0,Water:0,Earth:0},this.cooldowns={1:0,2:0,3:0,4:0,5:0},this.elapsed=0,this.paused=!1,this.ended=!1,this.hudVisible=!0,this.colorblind=!1,this.muted=!0,this.equilibriumStable=0,this.nukeUsed=!1,this.interventionsUsed=0,this.pendingSeed=null,this.onCollision=(t,e)=>{const s=t,i=e,n=s.getData("faction"),r=i.getData("faction");!n||!r||n===r||s.getData("shielded")||i.getData("shielded")||(A(n,r)?this.convert(i,n):A(r,n)&&this.convert(s,r))}}init(t){t?.mode&&(this.mode=t.mode),typeof t?.seed=="string"&&t.seed.trim().length>0&&(this.pendingSeed=t.seed)}create(){this.ui=this.scene.get("UI"),this.resetState(),this.initializeSettings(),this.physics.world.setBounds(0,0,this.scale.width,this.scale.height),this.physics.world.setBoundsCollision(!0,!0,!0,!0),this.buildGroups(),this.meter=new _(this.groups),this.interventions=new ft(this,this.groups,{maxEntities:U}),this.interventions.setPalette(this.palette),this.spawnInitial(xt),this.setupCollisions(),this.registerInput(),this.ui.setMode(this.mode),this.ui.setHudVisible(this.hudVisible),this.ui.setMutedAndColorblind(this.muted,this.colorblind),this.ui.hideEndPanel(),this.updateCooldowns(),this.refreshAndPublish()}update(t,e){const s=e/1e3;if(!this.paused&&!this.ended){this.elapsed+=s;const i=this.meter.counts();this.counts={...i};const n=g(i);n>=yt?this.equilibriumStable+=s:this.equilibriumStable=0,this.checkEndConditions(i,n),this.publishTick(i,n)}else this.publishTick(this.counts,g(this.counts));this.updateCooldowns()}restart(t=!1){const e=t?this.generateSeed():null;this.scene.restart({mode:this.mode,seed:e})}toggleMode(){const t=this.mode==="Balance"?"Domination":"Balance";this.scene.restart({mode:t,seed:null})}resetState(){this.elapsed=0,this.paused=!1,this.ended=!1,this.equilibriumStable=0,this.nukeUsed=!1,this.interventionsUsed=0,this.cooldowns={1:0,2:0,3:0,4:0,5:0},this.counts={Fire:0,Water:0,Earth:0},this.physics.world.resume(),this.time.timeScale=1}initializeSettings(){at(this.pendingSeed??void 0),this.seed=lt(),this.pendingSeed=null,this.muted=D(R,this.muted),this.colorblind=D(W,this.colorblind),N(this.muted),this.palette=p(this.colorblind),this.ui.setMutedAndColorblind(this.muted,this.colorblind)}buildGroups(){const t=(()=>{const e={};return a.forEach(s=>{e[s]=this.physics.add.group({classType:h.Physics.Arcade.Image,maxSize:U,collideWorldBounds:!0,bounceX:1,bounceY:1})}),e})();this.groups=t}spawnInitial(t){for(let e=0;e<t;e+=1){const s=a[e%a.length],i=b(c,this.scale.width-c),n=b(c,this.scale.height-c);this.spawnEntity(s,i,n)}this.refreshAndPublish()}spawnEntity(t,e,s){const i=this.interventions.spawnFaction(t,e,s);return i.setDepth(5),i}setupCollisions(){const t=Object.values(this.groups);for(let e=0;e<t.length;e+=1){const s=t[e];this.physics.add.collider(s,s,void 0,void 0,this);for(let i=e+1;i<t.length;i+=1){const n=t[i];this.physics.add.collider(s,n,this.onCollision,void 0,this)}}}convert(t,e){t.setData("faction",e),t.setData("shielded",!1),t.setTint(this.palette[e]),t.setData("baseSpeed",w[e]);const s=t.body;s&&s.velocity.scale(1.04),E(this,t),T(this,t.x,t.y,this.palette[e],"small"),f("convert")}registerInput(){this.input.on("pointerdown",e=>{e.leftButtonDown()&&this.trySpawnAt(this.pointerWorld(e))});const t=this.input.keyboard;t&&(t.on("keydown-ONE",()=>this.trySpawnAt(this.pointerWorld())),t.on("keydown-TWO",()=>this.trySlowStrongest()),t.on("keydown-THREE",()=>this.tryBuffWeakest()),t.on("keydown-FOUR",()=>this.tryShieldWeakest()),t.on("keydown-FIVE",()=>this.tryNukeAt(this.pointerWorld())),t.on("keydown-M",()=>this.toggleMute()),t.on("keydown-C",()=>this.toggleColorblind()),t.on("keydown-H",()=>this.toggleHud()),t.on("keydown-SPACE",()=>this.togglePause()),t.on("keydown-R",e=>this.restart(e.shiftKey)),t.on("keydown-TAB",e=>{e.preventDefault(),this.toggleMode()}))}trySpawnAt(t){if(!this.canAct())return;this.interventions.spawnWeakest(t)&&(this.interventionsUsed+=1,f("spawn"),this.refreshAndPublish())}trySlowStrongest(){this.canAct()&&this.interventions.slowStrongest()&&(this.interventionsUsed+=1,f("slow"))}tryBuffWeakest(){this.canAct()&&this.interventions.buffWeakest()&&(this.interventionsUsed+=1,f("buff"))}tryShieldWeakest(){this.canAct()&&this.interventions.shieldWeakest()&&(this.interventionsUsed+=1,f("shield"),this.refreshAndPublish())}tryNukeAt(t){if(!this.canAct())return;this.interventions.nuke(t)&&(this.interventionsUsed+=1,this.nukeUsed=!0,f("nuke"),this.refreshAndPublish())}toggleMute(){this.muted=!this.muted,N(this.muted),O(R,this.muted),this.ui.setMuted(this.muted)}toggleColorblind(){this.colorblind=!this.colorblind,O(W,this.colorblind),this.palette=p(this.colorblind),this.interventions.setPalette(this.palette),this.ui.setColorblind(this.colorblind),this.refreshAndPublish()}toggleHud(){this.hudVisible=!this.hudVisible,this.ui.setHudVisible(this.hudVisible)}togglePause(){this.paused=!this.paused,this.physics.world.isPaused=this.paused,this.time.timeScale=this.paused?0:1,this.refreshAndPublish()}canAct(){return!this.ended&&!this.paused}pointerWorld(t){const e=t??this.input.activePointer,s=new h.Math.Vector2;return this.cameras.main.getWorldPoint(e.x,e.y,s),s.x=h.Math.Clamp(s.x,c,this.scale.width-c),s.y=h.Math.Clamp(s.y,c,this.scale.height-c),s}checkEndConditions(t,e){if(this.ended)return;const s=a.reduce((i,n)=>i+t[n],0);this.mode==="Balance"?a.some(n=>t[n]===0)&&s>0&&this.endRun(t,e):a.some(n=>t[n]===s&&s>0)&&this.endRun(t,e)}endRun(t,e){if(this.ended)return;this.ended=!0,this.paused=!0,this.physics.world.pause(),this.time.timeScale=0;const s=this.collectAchievements(),i=this.updateBestScore(this.elapsed),n={mode:this.mode,elapsed:this.elapsed,score:this.elapsed,bestScore:i,counts:{...t},achievements:s,seed:this.seed};this.ui.showEndPanel(n),this.publishTick(t,e)}collectAchievements(){const t=[];return this.equilibriumStable>=St&&t.push("EquilibriumKeeper"),this.nukeUsed||t.push("Merciful"),this.interventionsUsed<=5&&t.push("Minimalist"),this.mode==="Domination"&&this.elapsed<120&&t.push("SwiftDominion"),t}updateBestScore(t){const e=bt[this.mode];if(this.mode==="Balance"){const i=F(e,0);return t>i?(I(e,t),t):i>0?i:null}const s=F(e,0);return s<=0||t<s?(I(e,t),t):s>0?s:null}refreshAndPublish(){const t=this.meter.counts(),e=g(t);this.publishTick(t,e)}publishTick(t,e){this.counts={...t};const s={mode:this.mode,elapsed:this.elapsed,counts:{...t},equilibrium:e,total:a.reduce((i,n)=>i+t[n],0),paused:this.paused,ended:this.ended};this.ui.tick(s)}updateCooldowns(){this.cooldowns=this.interventions.cooldowns(),this.ui.setCooldowns(this.cooldowns)}generateSeed(){if(typeof crypto<"u"&&"getRandomValues"in crypto){const t=new Uint32Array(2);return crypto.getRandomValues(t),Array.from(t).map(e=>e.toString(16)).join("").slice(0,12)}return Math.random().toString(36).slice(2,14)}}const x="ui-monospace, SFMono-Regular, Menlo, Consolas, Liberation Mono, monospace",L=380;class Et extends h.Scene{constructor(){super("UI"),this.lastCounts={Fire:0,Water:0,Earth:0},this.colorblind=!1,this.muted=!0,this.hudVisible=!0,this.paused=!1}create(){this.createHud(),this.createEndPanel()}setMode(t){this.modeText.setText(`Mode: ${t}`)}tick(t){this.modeText.setText(`Mode: ${t.mode}`),this.timerText.setText(`Time: ${t.elapsed.toFixed(1)}s`);const{Fire:e,Water:s,Earth:i}=t.counts;this.lastCounts.Fire=e,this.lastCounts.Water=s,this.lastCounts.Earth=i;const n=`${S.Fire.slice(0,6)} ${e}  |  ${S.Water.slice(0,6)} ${s}  |  ${S.Earth.slice(0,6)} ${i}`;this.countsText.setText(n),this.equilibriumText.setText(`Equilibrium: ${(t.equilibrium*100).toFixed(0)}%`),this.balanceBar.update(this.lastCounts,p(this.colorblind)),this.paused=t.paused,this.updateStateText(),t.ended||this.hideEndPanel()}setCooldowns(t){const e=Object.entries(t).filter(([,s])=>s>.05).map(([s,i])=>`[${s}] ${i.toFixed(1)}s`);this.cooldownText.setText(e.length?e.join("    "):"")}setMuted(t){this.muted=t,this.updateStateText()}setColorblind(t){this.colorblind=t,this.updateStateText(),this.balanceBar.update(this.lastCounts,p(this.colorblind))}setHudVisible(t){this.hudVisible=t,this.hud.setVisible(t),this.balanceBar.setVisible(t),this.updateStateText()}showEndPanel(t){const e=t.bestScore!==null?t.bestScore.toFixed(1):"--";this.endTitle.setText(`${t.mode} Protocol Complete`),this.endSummary.setText(`Runtime: ${t.elapsed.toFixed(1)}s
Score: ${t.score.toFixed(1)}s
Best: ${e}s`);const s=t.achievements.slice(0,3),i=s.length?s.map(n=>`- ${n}`).join(`
`):"System Logs pending. Maintain balance to unlock.";this.endLogs.setText(i),this.endPanel.setVisible(!0)}hideEndPanel(){this.endPanel.setVisible(!1)}setMutedAndColorblind(t,e){this.muted=t,this.colorblind=e,this.updateStateText(),this.balanceBar.update(this.lastCounts,p(this.colorblind))}createHud(){this.hud=this.add.container(24,24).setDepth(20).setScrollFactor(0);const t=this.add.rectangle(0,0,L,160,266791,.7).setOrigin(0).setStrokeStyle(2,1714758,.9),e={fontFamily:x,fontSize:"20px",color:"#cfe8ff"},s={fontFamily:x,fontSize:"16px",color:"#8fb7ff"};this.modeText=this.add.text(12,12,"Mode: Balance",e),this.timerText=this.add.text(12,38,"Time: 0.0s",e),this.countsText=this.add.text(12,64,"Therm 0 | Liquid 0 | Core 0",e),this.equilibriumText=this.add.text(12,90,"Equilibrium: 100%",s),this.hintText=this.add.text(12,114,"1 Spawn | 2 Slow | 3 Buff | 4 Shield | 5 Nuke | Tab Mode",s),this.cooldownText=this.add.text(12,136,"",{...s,fontSize:"14px"}),this.stateText=this.add.text(12,154,"Muted: On | Palette: Default",{...s,fontSize:"14px"}),this.hud.add([t,this.modeText,this.timerText,this.countsText,this.equilibriumText,this.hintText,this.cooldownText,this.stateText]),this.balanceBar=new et(this,24,190,L-48,12),this.updateStateText()}createEndPanel(){this.endPanel=this.add.container(1280/2,720/2).setDepth(200).setScrollFactor(0).setVisible(!1);const t=this.add.rectangle(0,0,520,320,465199,.92).setOrigin(.5).setStrokeStyle(2,2045529,.85),e={fontFamily:x,color:"#cfe8ff",align:"center"};this.endTitle=this.add.text(0,-120,"Protocol Complete",{...e,fontSize:"28px"}).setOrigin(.5),this.endSummary=this.add.text(0,-40,`Runtime: 0.0s
Score: 0.0s
Best: --`,{...e,fontSize:"22px"}).setOrigin(.5),this.endLogs=this.add.text(0,56,"",{...e,fontSize:"18px"}).setOrigin(.5),this.endFooter=this.add.text(0,120,"R: Restart | Space: Pause | M: Mute | C: Colorblind",{...e,fontSize:"16px",color:"#8fb7ff"}).setOrigin(.5),this.endPanel.add([t,this.endTitle,this.endSummary,this.endLogs,this.endFooter])}updateStateText(){const t=this.muted?"Muted":"Audio On",e=this.colorblind?"Colorblind":"Default",s=this.hudVisible?"HUD Visible":"HUD Hidden",i=this.paused?"Paused":"Running";this.stateText.setText(`${t} | Palette: ${e} | ${s} | ${i}`)}}const Tt={type:h.AUTO,pixelArt:!0,backgroundColor:"#0b1220",scale:{mode:h.Scale.FIT,autoCenter:h.Scale.CENTER_BOTH,width:1280,height:720},physics:{default:"arcade",arcade:{gravity:{x:0,y:0},debug:!1}},scene:[Z,wt,Et],parent:"app"};new h.Game(Tt);
